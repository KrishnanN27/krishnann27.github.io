<header style="display: flex; justify-content: space-between; align-items: center; padding: 0 1rem;">
  <div class="header-left" style="display: flex; align-items: center; gap: 0.5rem;">
    <!-- Left logo / brand -->
    <a href="{{ "" | relLangURL}}" class="brand" style="font-size: 1.1em; font-weight: normal; text-decoration: none; white-space: nowrap;">
      Sowndarya Krishnan-fyi
    </a>

    {{ if .Site.Params.logo }}
    <a class="title" href="{{ "" | relLangURL}}">
      {{ $imgData := dict "Page" . "URL" .Site.Params.logo "Alt" "Site Logo" "Size" "64x64" }}
      {{ partial "image-renderer.html" $imgData }}
    </a>
    {{ end }}
  </div>

  <div class="header-cntr" style="flex: 1; display: flex; justify-content: flex-end; align-items: center; gap: 1rem;">
    <div class="menu" style="display: flex; align-items: center; gap: 1rem;">
      <!-- Navigation menu -->
      <nav id="main-menu" class="mm-normal">
        <ul style="display: flex; align-items: center; gap: 1rem; font-size: 1.2em; margin: 0; padding: 0; list-style: none;">
          <li>
            <button id="mob-x-icon" class="menu-btn" arial-label="x-icon" style="display: none;">
              {{ partial "icon.html" "xmark" }}
            </button>
          </li>
          {{ range .Site.Menus.main }}
          <li>
            <a href="{{ .URL }}" aria-label="{{ .Name }}" style="text-decoration: none; display: flex; align-items: center; gap: 0.25rem;">
              {{ if .Pre }}
              <span>{{ partial "icon.html" .Pre }}</span>
              {{ end }}
              {{ .Title | emojify }}
            </a>
          </li>
          {{ end }}
        </ul>
      </nav>

      <!-- Search + Theme Switcher inline -->
      <div class="side-menu" style="display: flex; align-items: center; gap: 0.5rem;">
        {{ partial "search.html" . }}
        {{ if .Site.Params.showThemeSwitcher | default false }}
        <button id="theme-switcher" class="menu-btn" aria-label="Theme switcher" style="display: flex; align-items: center; gap: 0.25rem;">
          <div id="moon" style="font-size: 1.3em;">
            {{ partial "icon.html" "moon" }}
          </div>
          <div id="sun" style="font-size: 1.3em;">
            {{ partial "icon.html" "sun" }}
          </div>
        </button>
        {{ end }}
      </div>

      <!-- Hamburger icon -->
      <button id="mob-hb-icon" class="menu-btn" aria-label="Hamburger icon">
        {{ partial "icon.html" "bars" }}
      </button>
    </div>
  </div>

  <!-- Mobile toggle scripts -->
  <script>
    (function () {
      document.addEventListener('DOMContentLoaded', function () {
        const openBtn = document.getElementById('mob-hb-icon');
        const closeBtn = document.getElementById('mob-x-icon');
        const mainMenu = document.getElementById('main-menu');
        const body = document.body;

        openBtn.addEventListener('click', function () {
          mainMenu.classList.replace('mm-normal', 'mm-mobile-open');
          closeBtn.style.display = 'block';
          body.style.overflow = 'hidden';
        });

        closeBtn.addEventListener('click', function () {
          mainMenu.classList.replace('mm-mobile-open', 'mm-normal');
          closeBtn.style.display = 'none';
          body.style.overflow = '';
        });
      });
    })();
  </script>

  {{ if .Site.Params.highlightCurrentMenu }}
  <script>
    (function () {
      var mainmenu = document.getElementById('main-menu');
      if (!mainmenu) return;

      var path = window.location.pathname;
      var links = mainmenu.querySelectorAll('a');

      links.forEach(function (link) {
        if (link.getAttribute('href') === path) {
          link.classList.add('active');
        }
      });
    })();
  </script>
  {{ end }}
</header>
